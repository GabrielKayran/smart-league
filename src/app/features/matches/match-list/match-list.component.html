<div class="match-list-container">
  <div class="header">
    <h1>Partidas</h1>
    <button mat-raised-button color="primary" routerLink="/matches/create">
      <mat-icon>add</mat-icon>
      Nova Partida
    </button>
  </div>

  @if (matchService.matches().length === 0) {
    <mat-card class="empty-state">
      <mat-card-content>
        <mat-icon class="empty-icon">sports_soccer</mat-icon>
        <h2>Nenhuma partida agendada</h2>
        <p>Comece criando a primeira partida da liga!</p>
        <button mat-raised-button color="primary" routerLink="/matches/create">
          Criar Primeira Partida
        </button>
      </mat-card-content>
    </mat-card>
  } @else {
    <div class="matches-sections">
      <!-- Partidas ao Vivo -->
      @if (matchService.liveMatches().length > 0) {
        <div class="section">
          <h2>
            <mat-icon>play_circle</mat-icon>
            Partidas ao Vivo
          </h2>
          <div class="matches-grid">
            @for (match of matchService.liveMatches(); track match.id) {
              <mat-card
                class="match-card live"
                [routerLink]="['/matches', match.id]"
              >
                <mat-card-content>
                  <div class="match-header">
                    <mat-chip class="status-chip live">AO VIVO</mat-chip>
                    <div class="match-time">
                      <mat-icon>access_time</mat-icon>
                      <span>90'</span>
                    </div>
                  </div>

                  <div class="match-teams text-overflow-card">
                    <div class="team">
                      <span class="team-name">{{
                        getTeamName(match.homeTeam)
                      }}</span>
                      <span class="team-score">{{ match.homeScore || 0 }}</span>
                    </div>

                    <div class="vs">VS</div>

                    <div class="team">
                      <span class="team-score">{{ match.awayScore || 0 }}</span>
                      <span class="team-name">{{
                        getTeamName(match.awayTeam)
                      }}</span>
                    </div>
                  </div>

                  <div class="match-info">
                    <mat-icon>location_on</mat-icon>
                    <span>{{ match.stadium }}</span>
                  </div>
                </mat-card-content>
              </mat-card>
            }
          </div>
        </div>
      }

      <!-- Próximas Partidas -->
      @if (matchService.upcomingMatches().length > 0) {
        <div class="section">
          <h2>
            <mat-icon>schedule</mat-icon>
            Próximas Partidas
          </h2>
          <div class="matches-grid">
            @for (match of matchService.upcomingMatches(); track match.id) {
              <mat-card
                class="match-card upcoming"
                [routerLink]="['/matches', match.id]"
              >
                <mat-card-content>
                  <div class="match-header">
                    <mat-chip class="status-chip upcoming">AGENDADA</mat-chip>
                    <div class="match-date">
                      {{ match.date | date: "dd/MM HH:mm" }}
                    </div>
                  </div>

                  <div class="match-teams text-overflow-card">
                    <div class="team">
                      <span class="team-name">{{
                        getTeamName(match.homeTeam)
                      }}</span>
                    </div>

                    <div class="vs">VS</div>

                    <div class="team">
                      <span class="team-name">{{
                        getTeamName(match.awayTeam)
                      }}</span>
                    </div>
                  </div>

                  <div class="match-info">
                    <mat-icon>location_on</mat-icon>
                    <span>{{ match.stadium }}</span>
                  </div>
                </mat-card-content>
              </mat-card>
            }
          </div>
        </div>
      }

      @if (matchService.finishedMatches().length > 0) {
        <div class="section">
          <h2>
            <mat-icon>check_circle</mat-icon>
            Partidas Finalizadas
          </h2>
          <div class="matches-grid">
            @for (match of matchService.finishedMatches(); track match.id) {
              <mat-card
                class="match-card finished"
                [routerLink]="['/matches', match.id]"
              >
                <mat-card-content class="text-overflow-card">
                  <div class="match-header">
                    <mat-chip class="status-chip finished">FINALIZADA</mat-chip>
                    <div class="match-date">
                      {{ match.date | date: "dd/MM/yyyy" }}
                    </div>
                  </div>

                  <div class="match-teams text-overflow-card">
                    <div class="team">
                      <span class="team-name">{{
                        getTeamName(match.homeTeam)
                      }}</span>
                      <span class="team-score">{{ match.homeScore || 0 }}</span>
                    </div>

                    <div class="vs">VS</div>

                    <div class="team">
                      <span class="team-score">{{ match.awayScore || 0 }}</span>
                      <span class="team-name">{{
                        getTeamName(match.awayTeam)
                      }}</span>
                    </div>
                  </div>

                  <div class="match-info">
                    <mat-icon>location_on</mat-icon>
                    <span>{{ match.stadium }}</span>
                  </div>
                </mat-card-content>
              </mat-card>
            }
          </div>
        </div>
      }
    </div>
  }
</div>
